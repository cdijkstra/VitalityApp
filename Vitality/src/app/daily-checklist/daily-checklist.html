<div class="max-w-3xl mx-auto p-8 font-sans">
  <div class="mb-8">
    <h2 class="mb-4 text-3xl font-semibold text-gray-800">Daily Checklist</h2>
    <div class="mb-4">
      <span class="block mb-2 text-sm font-medium text-gray-600">
        {{ completedCount() }} / {{ totalCount() }} completed
      </span>
      <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
        <div
          class="h-full bg-green-500 rounded-full transition-all duration-300 ease-in-out"
          [style.width.%]="totalCount() > 0 ? (completedCount() / totalCount()) * 100 : 0"
        ></div>
      </div>
    </div>
    <button
      class="px-4 py-2 bg-red-500 text-white rounded-md text-sm font-medium hover:bg-red-600 active:bg-red-700 transition-colors"
      (click)="resetAll()"
    >
      Reset All
    </button>
  </div>

  <ul class="space-y-3">
    @for (item of checklistItems(); track item.name) {
    <li
      class="flex items-center justify-between p-4 bg-white border-2 rounded-lg transition-all hover:border-gray-400 hover:shadow-md"
      [class.border-green-500]="item.completed"
      [class.bg-green-50]="item.completed"
      [class.border-gray-200]="!item.completed"
    >
      <label class="flex items-center flex-1 cursor-pointer gap-4">
        <input
          type="checkbox"
          [checked]="item.completed"
          (change)="toggleCompleted(item)"
          class="w-5 h-5 cursor-pointer accent-green-500"
        />
        <div class="flex flex-col gap-1">
          <span
            class="text-base font-medium"
            [class.text-gray-600]="item.completed"
            [class.line-through]="item.completed"
            [class.text-gray-800]="!item.completed"
          >
            {{ item.name }}
          </span>
          <span class="text-sm text-gray-600">{{ item.description }}</span>
            <span class="text-xs text-blue-500 font-semibold mt-1 flex items-center gap-1">
              <mat-icon class="text-blue-400" style="font-size: 1rem;">schedule</mat-icon>
                {{ item.reminderTime }}
            </span>
        </div>
      </label>
      <div class="flex gap-2">
        @if (!item.completed) {
        <button
          class="w-8 h-8 bg-green-500 text-white rounded-md font-bold text-base hover:bg-green-600 hover:scale-110 transition-all flex items-center justify-center"
          (click)="completeItem(item)"
          title="Mark as complete"
        >
          ✓
        </button>
        } @else {
        <button
          class="w-8 h-8 bg-orange-500 text-white rounded-md font-bold text-base hover:bg-orange-600 hover:scale-110 transition-all flex items-center justify-center"
          (click)="incompleteItem(item)"
          title="Mark as incomplete"
        >
          ✗
        </button>
        }
      </div>
    </li>
    }
  </ul>
</div>
